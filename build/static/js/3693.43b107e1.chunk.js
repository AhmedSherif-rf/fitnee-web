"use strict";(self.webpackChunkfitnee_web=self.webpackChunkfitnee_web||[]).push([[3693],{3693:function(e,r,s){s.r(r),s.d(r,{default:function(){return w}});var n=s(3433),t=s(9439),a=s(6285),l=s(7689),c=s(2791),o=s(9711),i=s(2685),d=s(7823),u=s(3009),m=s(9773),f=s(3464),v=s(8865),b=s(9037),x=s(2232),p=s(263),h=s(1413),g=s(438),j=s.n(g),y=s(8554),N=s(203),O=s(184),Z=function(e){var r=e.message,s=e.member,n=(0,l.s0)();return(0,O.jsxs)("div",{className:"d-flex gap-2 py-2",children:[(0,O.jsx)("div",{className:"bgProperties rounded-circle me-2 cursorPointer",onClick:function(){"Trainee"===(null===s||void 0===s?void 0:s.role)?n("/admin/traineeProviderProfile/".concat(null===s||void 0===s?void 0:s.serverUserId)):n("/admin/serviceProviderProfile/".concat(null===s||void 0===s?void 0:s.uuid))},style:{backgroundImage:"null"===(null===s||void 0===s?void 0:s.avatar)||void 0===(null===s||void 0===s?void 0:s.avatar)?"url(".concat(p.Z.USER_DUMMY_IMG,")"):"url(".concat(null===s||void 0===s?void 0:s.avatar,")"),width:"35px",height:"35px"}}),(0,O.jsxs)(f.Z,{className:"d-flex flex-column border ".concat(r.isDeleted?"messageWrapperDanger":"messageWrapper"," p-2"),children:[(0,O.jsx)("small",{className:"fw-bold ",children:null===s||void 0===s?void 0:s.name}),"TEXT"===r.messageType&&(0,O.jsx)("small",{className:"px-2",children:r.messageText}),"IMAGE"===r.messageType&&(0,O.jsx)("div",{className:"",children:(0,O.jsx)("div",{className:"bgProperties",style:{backgroundImage:null===(null===r||void 0===r?void 0:r.mediaUrl)?"url(".concat(p.Z.USER_DUMMY_IMG,")"):"url(".concat(null===r||void 0===r?void 0:r.mediaUrl,")"),width:"80px",height:"100px"}})}),(0,O.jsxs)("div",{className:"d-flex justify-content-end pe-2",children:[" ",(0,O.jsx)("small",{children:j()(r.messageTime).format("h:mm A")})]})]}),!(null!==r&&void 0!==r&&r.isDeleted)&&(0,O.jsx)(N.fVU,{color:"#c56263",className:"cursorPointer",onClick:function(){var e=(0,i.iH)(a.db,"GroupMessages/".concat(r.messageTo,"/").concat(r.messageId));(0,i.t8)(e,(0,h.Z)((0,h.Z)({},r),{},{isDeleted:!0})).then((function(){return y.Z.error("Message deleted")})).catch((function(e){return console.error("Error updating isDeleted:",e)}))}})]})},M=(0,c.memo)(Z),w=function(e){var r=(0,l.s0)(),s=(0,c.useState)([]),h=(0,t.Z)(s,2),g=h[0],j=h[1],y=(0,c.useState)(!1),N=(0,t.Z)(y,2),Z=N[0],w=N[1],k=(0,c.useState)([]),P=(0,t.Z)(k,2),T=P[0],C=P[1],I=(0,c.useState)([]),E=(0,t.Z)(I,2),S=E[0],U=E[1],D=(0,c.useRef)(null);(0,c.useEffect)((function(){var e=(0,i.iH)(a.db,"GroupMessages",(0,i.g2)("messageTime")),r=(0,i.jM)(e,(function(e){var r=e.val();e.exists()&&Object.values(r).map((function(e,r){return U([].concat((0,n.Z)(S),[e]))}))}));return function(){return r()}}),[]),(0,c.useEffect)((function(){D.current&&D.current.scrollIntoView()}),[S]),(0,c.useEffect)((function(){var e=(0,i.iH)(a.db,"Groups");return(0,i.jM)(e,(function(e){var r=e.val();if(e.exists()){var s=Object.keys(r)[0];C(r[s].usersIds)}}))}),[]),(0,c.useEffect)((function(){var e=(0,i.iH)(a.db,"Users");return(0,i.jM)(e,(function(e){var r=e.val();if(e.exists()){var s=Object.values(r).map((function(e){return e}));j(s)}}))}),[]);var R=function(e){return g.find((function(r){return r.userId===e}))};return(0,O.jsx)(c.Fragment,{children:(0,O.jsx)(d.Z,{className:"adminDashBoardScrolling",fluid:!0,children:(0,O.jsxs)(u.Z,{children:[(0,O.jsx)(m.Z,{md:12,className:"text-center",children:(0,O.jsx)(o.Z,{headingText:"Community",categoryText:"",className:"text-start"})}),(0,O.jsxs)(m.Z,{md:3,className:" mb-3 ms-2 me-3",children:[(0,O.jsx)("h5",{className:"mb-0 fw-bold text-start d-md-block d-none text-black-custom",children:"Members"}),(0,O.jsx)("h6",{className:"mb-0 fw-bold text-start d-md-none d-block text-black-custom",children:"Members"}),(0,O.jsxs)(f.Z,{className:"onlyBorderRadius p-0",children:[(0,O.jsx)(v.Z,{className:"bg-transparent border-0"}),(0,O.jsx)(b.Z,{className:"chatCardFooterHeight py-0",children:T.map((function(e,s){var n=R(e);return(0,O.jsxs)(m.Z,{md:12,onMouseOver:function(){return w(s)},onMouseOut:function(){return w(!1)},className:"d-flex mb-1 cursorPointer align-items-center py-1 bgCommunity rounded-4 ps-1",onClick:function(){"Trainee"===(null===n||void 0===n?void 0:n.role)?r("/admin/traineeProviderProfile/".concat(null===n||void 0===n?void 0:n.serverUserId)):r("/admin/serviceProviderProfile/".concat(null===n||void 0===n?void 0:n.uuid))},children:[(0,O.jsx)("div",{className:"bgProperties rounded-circle ".concat(Z===s?"cardHovered":""),style:{border:"3px solid White",backgroundImage:"null"===(null===n||void 0===n?void 0:n.avatar)||void 0===(null===n||void 0===n?void 0:n.avatar)?"url(".concat(p.Z.USER_DUMMY_IMG,")"):"url(".concat(null===n||void 0===n?void 0:n.avatar,")"),width:"45px",height:"45px"}}),(0,O.jsxs)("div",{className:"text-start",children:[(0,O.jsx)("p",{className:"ms-3 mb-0 small fw-bold",children:null===n||void 0===n?void 0:n.name}),(0,O.jsx)("p",{className:"ms-3 mb-0 small fw-bold",children:null===n||void 0===n?void 0:n.role})]})]},s)}))}),(0,O.jsx)(x.Z,{className:"border-0 bg-transparent"})]})]}),(0,O.jsxs)(m.Z,{md:8,className:"position-relative me-3",children:[(0,O.jsx)("h5",{className:"mb-0 fw-bold text-start  d-md-block d-none text-black-custom",children:"Chat"}),(0,O.jsx)("h6",{className:"mb-0 fw-bold text-start d-md-none d-block text-black-custom",children:"Chat"}),(0,O.jsxs)(f.Z,{className:"px-2 onlyBorderRadius",children:[(0,O.jsx)(v.Z,{className:"border-0 bg-transparent"}),(0,O.jsx)(b.Z,{className:"py-0 chatCardFooterHeight",children:S.map((function(e,r){return Object.values(e).map((function(e,r){var s=R(e.messageFrom);return(0,O.jsxs)(m.Z,{md:12,className:"text-start",children:[(0,O.jsx)(M,{member:s,message:e}),(0,O.jsx)("div",{className:"",ref:D})]},r)}))}))}),(0,O.jsx)(x.Z,{className:"border-0 bg-transparent"})]})]})]})})})}},9711:function(e,r,s){s.d(r,{Z:function(){return l}});var n=s(2791),t=s(184),a=function(e){var r=e.headingText,s=e.categoryText,a=e.className,l=e.style;return(0,t.jsx)(n.Fragment,{children:(0,t.jsxs)("h2",{className:"fw-bold text-black-custom p-3 mb-0 ".concat(a," heading"),style:{style:l,textTransform:"camelCase"},children:[r,s&&(0,t.jsx)("span",{className:"text-muted h6 fw-bold",style:{style:l,textTransform:"camelCase"},children:"".concat(s)})]})})},l=(0,n.memo)(a)},9037:function(e,r,s){var n=s(2791),t=s(2007),a=s.n(t),l=s(1694),c=s.n(l),o=s(9622),i=["className","cssModule","innerRef","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var s,n,t=function(e,r){if(null==e)return{};var s,n,t={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],r.indexOf(s)>=0||(t[s]=e[s]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],r.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}var m={className:a().string,cssModule:a().object,innerRef:a().oneOfType([a().object,a().string,a().func]),tag:o.iC};function f(e){var r=e.className,s=e.cssModule,t=e.innerRef,a=e.tag,l=void 0===a?"div":a,m=u(e,i),f=(0,o.mx)(c()(r,"card-body"),s);return n.createElement(l,d({},m,{className:f,ref:t}))}f.propTypes=m,r.Z=f},8865:function(e,r,s){var n=s(2791),t=s(2007),a=s.n(t),l=s(1694),c=s.n(l),o=s(9622),i=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var s,n,t=function(e,r){if(null==e)return{};var s,n,t={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],r.indexOf(s)>=0||(t[s]=e[s]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],r.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}var m={className:a().string,cssModule:a().object,tag:o.iC};function f(e){var r=e.className,s=e.cssModule,t=e.tag,a=void 0===t?"div":t,l=u(e,i),m=(0,o.mx)(c()(r,"card-header"),s);return n.createElement(a,d({},l,{className:m}))}f.propTypes=m,r.Z=f}}]);
//# sourceMappingURL=3693.43b107e1.chunk.js.map