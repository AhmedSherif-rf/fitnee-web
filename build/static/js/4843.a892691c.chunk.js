(self.webpackChunkfitnee_web=self.webpackChunkfitnee_web||[]).push([[4843],{4843:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(2791),a=n(1413),o=n(9439),u=n(6971),s=n.n(u),c=n(9630),i="style_otpContainer__rfE8B",l="style_otpWrapper__v1Rm+",f="style_otpCol__RWa+X",d="style_otpInputs__xxeCR",p=n(7689),m=n(9230),v=n(7823),y=n(3009),h=n(9773),b=n(9434),g=n(1267),x=n(1793),O=n(3423),w=n(7437),j=n(3585),T=n(184),C=function(){var e=(0,p.UO)().type,t=(0,p.s0)(),n=(0,b.I0)(),u=(0,m.$G)("").t,C=(0,r.useState)(""),P=(0,o.Z)(C,2),S=P[0],_=P[1],N=(0,r.useState)(""),k=(0,o.Z)(N,2),I=k[0],R=k[1],D=(0,r.useState)({minutes:1,seconds:59}),E=(0,o.Z)(D,2),F=E[0],A=E[1],Z=(0,r.useState)(!1),V=(0,o.Z)(Z,2),L=V[0],M=V[1],q=(0,b.v9)((function(e){return e.user})).email,U=(0,b.v9)((function(e){return e.forgotPassword})),B=U.email,Y=U.loading;(0,r.useEffect)((function(){var e=setInterval((function(){F.seconds>0&&A((0,a.Z)((0,a.Z)({},F),{},{seconds:F.seconds-1})),0===F.seconds&&(0===F.minutes?clearInterval(e):A({minutes:F.minutes-1,seconds:59}))}),1e3);return function(){clearInterval(e)}}),[F]);var W=(0,r.useCallback)((function(){M(!1)}),[]),G=(0,r.useCallback)((function(){M(!1),t("/serviceProvider/appDownloadLink/".concat(I))}),[t,I]);return(0,T.jsx)(v.Z,{className:"vh-100 text-black-custom ".concat(i),children:(0,T.jsxs)(y.Z,{className:"h-100 justify-content-center ".concat(l),children:["pending"===Y&&(0,T.jsx)(x.Z,{}),(0,T.jsxs)(h.Z,{md:4,className:"text-center py-3 ".concat(f),children:[(0,T.jsx)("h1",{className:"my-5 fw-400 fw-bold",children:u("otpVerification.verificationText")}),(0,T.jsx)("p",{className:"mb-5 fs-4 lh-1 px-5",children:u("otpVerification.openYourEmailText")}),(0,T.jsx)(s(),{className:"".concat(d),value:S,onChange:_,autoFocus:!0,OTPLength:6,otpType:"number",disabled:!1}),(0,T.jsx)("p",{className:"mb-0 fw-bold",children:u("otpVerification.didNotRecieveCodeText")}),(0,T.jsxs)("p",{className:"text-black-custom",children:[u("otpVerification.resendCodeInText")," ",(0,T.jsxs)("span",{className:"textYellow fw-bold",children:[F.minutes<10?"0".concat(F.minutes):F.minutes,":",F.seconds<10?"0".concat(F.seconds):F.seconds]})]}),(0,T.jsx)("p",{className:"pb-2 fw-bold ".concat(0!==F.seconds||0!==F.minutes?"text-muted":"cursorPointer textYellow"),onClick:function(){return function(){var t="";if("forgotPassword"!==e&&"signUp"!==e||(t="forgotPassword"===e?B:q),0===F.seconds&&0===F.minutes&&("forgotPassword"===e||"signUp"===e)){var r={apiEndpoint:j.FORGOT_PASSWORD_RESEND_OTP_URL,requestData:JSON.stringify({email:t})};n((0,w.Rv)(r)).then((function(e){"resendOtp/fulfilled"===e.type&&(_(""),A({minutes:1,seconds:59}))}))}}()},children:u("otpVerification.resendCodeText")}),(0,T.jsx)(c.Z,{text:u("otpVerification.nextText"),className:"w-100 py-2 mt-3",disabled:S.length<6,handleOnClick:function(){var r="";"forgotPassword"!==e&&"signUp"!==e||(r="forgotPassword"===e?B:q);var a={apiEndpoint:j.FORGOT_PASSWORD_VERIFY_URL,requestData:JSON.stringify({email:r,otp:S})};n((0,w.Mu)(a)).then((function(r){var a,o;"verifyOtp/fulfilled"===r.type&&("forgotPassword"===e?t("/changePassword"):(n((0,O.vV)("")),null!==r&&void 0!==r&&null!==(a=r.payload)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.request_id?(R(r.payload.data.request_id),M(!0)):t("/signIn")))}))}})]}),(0,T.jsx)(g.Z,{size:"md",className:"p-4",TTwoClassName:"mb-2 text-center",TOneClassName:"mb-2 text-center",isOpen:L,onClose:W,requestId:I,ModalTextOne:"Your request has been submitted successfully. After review you are notify by email.",ModalTextTwo:"In order to serve you better, we have generated a ticket ID for your request, please tab to copy this ID.",ButtonOne:(0,T.jsx)(c.Z,{text:u("otpVerification.okayText"),className:"py-2 px-5",handleOnClick:G})})]})})},P=function(e){return(0,T.jsx)(r.Fragment,{children:(0,T.jsx)(C,{})})}},6971:function(e,t,n){var r;window,e.exports=(r=n(2791),function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/otp-input-react/",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(t);var u=n(0),s=n.n(u);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e){var t=e.maxTime,n=e.onTimerComplete,r=e.timeInterval,a=e.onResendClick,o=Object(u.useRef)(),s=c(Object(u.useState)(t),2),i=s[0],l=s[1];return Object(u.useEffect)((function(){return o.current&&0===i?(clearTimeout(o.current),n&&n()):o.current=setTimeout((function(){l((function(e){return e-1}))}),r),function(){clearTimeout(o.current)}}),[n,i,r]),{handelResendClick:function(){a&&a(0===i),l(t)},remainingTime:i}};function l(e){var t=e.renderTime,n=e.renderButton,r=e.style,u=e.className,c=o(e,["renderTime","renderButton","style","className"]),l=i(c),f=l.remainingTime,d=l.handelResendClick;return s.a.createElement("div",{className:u||"","data-testid":"otp-resend-root",style:a({display:"flex",justifyContent:"space-between"},r)},t?t(f):s.a.createElement("span",null,f," sec"),n?n({disabled:0!==f,onClick:d,remainingTime:f}):s.a.createElement("button",{disabled:0!==f,onClick:d,type:"button"},"Resend OTP"))}l.defaultProps={maxTime:60,timeInterval:1e3,style:{}};var f=l,d={width:32,height:32,textAlign:"center",marginRight:20},p=s.a.memo((function(e){var t=e.focus,n=e.autoFocus,r=e.disabled,c=e.value,i=e.onInputFocus,l=e.index,f=e.secure,p=e.inputStyles,m=e.otpType,v=o(e,["focus","autoFocus","disabled","value","onInputFocus","index","secure","inputStyles","otpType"]),y=Object(u.useRef)(null),h=Object(u.useRef)(!1);Object(u.useEffect)((function(){n&&t&&y.current.focus()}),[]),Object(u.useEffect)((function(){h.current&&t&&y.current.focus(),h.current=!0}),[t]);var b="text";return f?b="password":"number"===m&&(b="tel"),s.a.createElement("input",Object.assign({style:a({},d,p),type:b,maxLength:"1",ref:y,disabled:r,onFocus:function(e){return i(l,e)},value:c||""},v))})),m=function(e){var t=e.autoFocus,n=e.value,r=e.otpType,a=e.onChange,o=e.OTPLength,s=c(Object(u.useState)(t?0:-1),2),i=s[0],l=s[1],f=function(){return n?n.toString().split(""):[]},d=function(e){var t=e.join("");a(t)},p=function(){!function(e){var t=Math.max(Math.min(o-1,e),0);l(t)}("next"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next")?i+1:i-1)},m=function(e){var t=c(e,1)[0],n=f();n[i]=t,d(n)},v=function(e){switch(r){case"number":return!(e.charCodeAt(0)>57||e.charCodeAt(0)<48);case"alpha":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<65);case"alphanumeric":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<48);default:return!0}};return{activeInput:i,getOtpValue:f,handleOnChange:function(e){v(e.target.value)&&(m(e.target.value),p("next"))},handleOnKeyDown:function(e){switch(e.key){case"Backspace":e.preventDefault(),m(""),p("prev");break;case"Delete":e.preventDefault(),m("");break;case"ArrowLeft":e.preventDefault(),p("prev");break;case"ArrowRight":e.preventDefault(),p("next")}},handelOnInput:function(e){e.target.value.length>1&&(e.preventDefault(),p("next"))},handleOnPaste:function(e,t){e.preventDefault();for(var n=f(),r=e.clipboardData.getData("text/plain").slice(0,o-i).split(""),a=0;a<o;++a)a>=i&&r.length>0&&(n[a]=r.shift());for(var u=[n.length],s=0,c=0;c<n.length;++c)v(n[c])&&(u[s]=n[c],s++);d(u)},onInputFocus:function(e,t){l(e),t.target.select()}}},v=function(e){var t=e.OTPLength,n=e.disabled,r=e.autoFocus,o=e.value,c=void 0===o?"":o,i=e.onChange,l=e.otpType,f=e.secure,d=e.className,v=e.inputClassName,y=e.inputStyles,h=e.style,b=e.placeholder,g=m({autoFocus:r,value:c,otpType:l,onChange:i,OTPLength:t}),x=g.activeInput,O=g.getOtpValue,w=g.handleOnChange,j=g.handleOnKeyDown,T=g.handelOnInput,C=g.handleOnPaste,P=g.onInputFocus,S=Object(u.useMemo)((function(){for(var e=O(),a=[],o=0;o<t;o++)a.push(s.a.createElement(p,{className:v,inputStyles:y,key:o,focus:x===o,value:e[o],onChange:w,onKeyDown:j,onInput:T,onPaste:C,onInputFocus:P,index:o,disabled:n,autoFocus:r,secure:f,"data-testid":"input",otpType:l,placeholder:b&&b[o]}));return a}),[O,t,v,y,x,w,j,T,C,P,n,r,f,l,b]);return s.a.createElement("div",{style:a({display:"flex"},h),className:"".concat(d),"data-testid":"otp-input-root"},S)};v.defaultProps={className:"",inputClassName:"",OTPLength:4,onChange:function(){},disabled:!1,secure:!1,autoFocus:!1,value:"",otpType:"any",inputStyles:{},style:{},placeholder:void 0};var y=v;n.d(t,"ResendOTP",(function(){return f})),n.d(t,"default",(function(){return y}))}]))}}]);
//# sourceMappingURL=4843.a892691c.chunk.js.map