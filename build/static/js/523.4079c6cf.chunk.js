"use strict";(self.webpackChunkfitnee_web=self.webpackChunkfitnee_web||[]).push([[523],{523:function(e,r,n){n.r(r),n.d(r,{default:function(){return j}});var s=n(3433),t=n(9439),a=n(6285),o=n(7689),l=n(2791),c=n(9711),i=n(2685),d=n(7823),u=n(3009),m=n(9773),v=n(3464),f=n(8865),p=n(9037),b=n(2232),x=n(263),g=n(4294),h=n(184),j=function(e){var r=(0,o.s0)(),n=(0,l.useState)([]),j=(0,t.Z)(n,2),y=j[0],N=j[1],O=(0,l.useState)(!1),Z=(0,t.Z)(O,2),w=Z[0],M=Z[1],T=(0,l.useState)([]),k=(0,t.Z)(T,2),P=k[0],E=k[1],I=(0,l.useState)([]),C=(0,t.Z)(I,2),S=C[0],U=C[1],D=(0,l.useRef)(null);(0,l.useEffect)((function(){var e=(0,i.iH)(a.db,"GroupMessages",(0,i.g2)("messageTime")),r=(0,i.jM)(e,(function(e){var r=e.val();e.exists()&&Object.values(r).map((function(e,r){return U([].concat((0,s.Z)(S),[e]))}))}));return function(){return r()}}),[]),(0,l.useEffect)((function(){D.current&&D.current.scrollIntoView()}),[S]),(0,l.useEffect)((function(){var e=(0,i.iH)(a.db,"Groups");return(0,i.jM)(e,(function(e){var r=e.val();if(e.exists()){var n=Object.keys(r)[0];E(r[n].usersIds)}}))}),[]),(0,l.useEffect)((function(){var e=(0,i.iH)(a.db,"Users");return(0,i.jM)(e,(function(e){var r=e.val();if(e.exists()){var n=Object.values(r).map((function(e){return e}));N(n)}}))}),[]);var R=function(e){return y.find((function(r){return r.userId===e}))};return(0,h.jsx)(l.Fragment,{children:(0,h.jsx)(d.Z,{className:"adminDashBoardScrolling",fluid:!0,children:(0,h.jsxs)(u.Z,{children:[(0,h.jsx)(m.Z,{md:12,className:"text-center",children:(0,h.jsx)(c.Z,{headingText:"Community",categoryText:"",className:"text-start"})}),(0,h.jsxs)(m.Z,{md:3,className:" mb-3",children:[(0,h.jsx)("h5",{className:"mb-0 fw-bold text-start d-md-block d-none text-black-custom",children:"Members"}),(0,h.jsx)("h6",{className:"mb-0 fw-bold text-start d-md-none d-block text-black-custom",children:"Members"}),(0,h.jsxs)(v.Z,{className:"onlyBorderRadius p-0",children:[(0,h.jsx)(f.Z,{className:"bg-transparent border-0"}),(0,h.jsx)(p.Z,{className:"chatCardFooterHeight py-0",children:P.map((function(e,n){var s=R(e);return(0,h.jsxs)(m.Z,{md:12,onMouseOver:function(){return M(n)},onMouseOut:function(){return M(!1)},className:"d-flex mb-1 cursorPointer align-items-center py-1 bgCommunity rounded-4 ps-1",onClick:function(){"Trainee"===(null===s||void 0===s?void 0:s.role)?r("/admin/traineeProviderProfile/".concat(null===s||void 0===s?void 0:s.serverUserId)):r("/admin/serviceProviderProfile/".concat(null===s||void 0===s?void 0:s.uuid))},children:[(0,h.jsx)("div",{className:"bgProperties rounded-circle ".concat(w===n?"cardHovered":""),style:{border:"3px solid White",backgroundImage:"null"===(null===s||void 0===s?void 0:s.avatar)||void 0===(null===s||void 0===s?void 0:s.avatar)?"url(".concat(x.Z.USER_DUMMY_IMG,")"):"url(".concat(null===s||void 0===s?void 0:s.avatar,")"),width:"45px",height:"45px"}}),(0,h.jsxs)("div",{className:"text-start",children:[(0,h.jsx)("p",{className:"ms-3 mb-0 small fw-bold",children:null===s||void 0===s?void 0:s.name}),(0,h.jsx)("p",{className:"ms-3 mb-0 small fw-bold",children:null===s||void 0===s?void 0:s.role})]})]},n)}))}),(0,h.jsx)(b.Z,{className:"border-0 bg-transparent"})]})]}),(0,h.jsxs)(m.Z,{md:8,className:"position-relative me-3",children:[(0,h.jsx)("h5",{className:"mb-0 fw-bold text-start  d-md-block d-none text-black-custom",children:"Chat"}),(0,h.jsx)("h6",{className:"mb-0 fw-bold text-start d-md-none d-block text-black-custom",children:"Chat"}),(0,h.jsxs)(v.Z,{className:"px-2 onlyBorderRadius",children:[(0,h.jsx)(f.Z,{className:"border-0 bg-transparent"}),(0,h.jsx)(p.Z,{className:"py-0 chatCardFooterHeight",children:S.map((function(e,r){return Object.values(e).map((function(e,r){var n=R(e.messageFrom);return(0,h.jsxs)(m.Z,{md:12,className:"text-start",children:[(0,h.jsx)(g.Z,{member:n,message:e}),(0,h.jsx)("div",{className:"",ref:D})]},r)}))}))}),(0,h.jsx)(b.Z,{className:"border-0 bg-transparent"})]})]})]})})})}},4294:function(e,r,n){n.d(r,{Z:function(){return b}});var s=n(1413),t=n(438),a=n.n(t),o=n(2791),l=n(3464),c=n(8554),i=n(6285),d=n(2685),u=n(203),m=n(7689),v=n(263),f=n(184),p=function(e){var r=e.message,n=e.member,t=e.recipient,o=void 0===t?null:t,p=(0,m.s0)();return(0,f.jsxs)("div",{className:"d-flex gap-2 py-2",children:[n&&(0,f.jsx)("div",{className:"bgProperties rounded-circle me-2 cursorPointer",onClick:function(){"Trainee"===(null===n||void 0===n?void 0:n.role)?p("/admin/traineeProviderProfile/".concat(null===n||void 0===n?void 0:n.serverUserId)):p("/admin/serviceProviderProfile/".concat(null===n||void 0===n?void 0:n.uuid))},style:{backgroundImage:"null"===(null===n||void 0===n?void 0:n.avatar)||void 0===(null===n||void 0===n?void 0:n.avatar)?"url(".concat(v.Z.USER_DUMMY_IMG,")"):"url(".concat(null===n||void 0===n?void 0:n.avatar,")"),width:"35px",height:"35px"}}),(0,f.jsxs)(l.Z,{className:"d-flex flex-column border ".concat(r.isDeleted?"messageWrapperDanger":"messageWrapper"," p-2 ").concat(parseInt(null===r||void 0===r?void 0:r.messageFrom)===(null===o||void 0===o?void 0:o.id)?"messageWrapper":"bgYellow"),children:[n&&(0,f.jsx)("small",{className:"fw-bold ",children:null===n||void 0===n?void 0:n.name}),("TEXT"===r.messageType||"EXERCISE"===r.messageType)&&(0,f.jsx)("small",{className:"px-2",children:r.messageText}),"IMAGE"===r.messageType&&(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:"bgProperties",style:{backgroundImage:null===(null===r||void 0===r?void 0:r.mediaUrl)?"url(".concat(v.Z.USER_DUMMY_IMG,")"):"url(".concat(null===r||void 0===r?void 0:r.mediaUrl,")"),width:"80px",height:"100px"}})}),"VIDEO"===r.messageType&&(0,f.jsx)("div",{className:"",children:(0,f.jsx)("video",{muted:!0,controls:!0,width:"200px",height:"150px",src:null===r||void 0===r?void 0:r.mediaUrl})}),"Document"===r.messageType&&(0,f.jsx)("embed",{width:"200px",height:"200px",src:null===r||void 0===r?void 0:r.mediaUrl}),"Audio"===r.messageType&&(0,f.jsx)("audio",{controls:!0,children:(0,f.jsx)("source",{src:null===r||void 0===r?void 0:r.mediaUrl})}),(0,f.jsxs)("div",{className:"d-flex justify-content-end pe-2",children:[" ",(0,f.jsx)("small",{children:a()(r.messageTime).format("h:mm A")})]})]}),n&&!(null!==r&&void 0!==r&&r.isDeleted)&&(0,f.jsx)(u.fVU,{color:"#c56263",className:"cursorPointer",onClick:function(){var e=(0,d.iH)(i.db,"GroupMessages/".concat(r.messageTo,"/").concat(r.messageId));(0,d.t8)(e,(0,s.Z)((0,s.Z)({},r),{},{isDeleted:!0})).then((function(){return c.Z.error("Message deleted")})).catch((function(e){return console.error("Error updating isDeleted:",e)}))}})]})},b=(0,o.memo)(p)},9711:function(e,r,n){n.d(r,{Z:function(){return o}});var s=n(2791),t=n(184),a=function(e){var r=e.headingText,n=e.categoryText,a=e.className,o=e.style;return(0,t.jsx)(s.Fragment,{children:(0,t.jsxs)("h2",{className:"fw-bold text-black-custom p-3 mb-0 ".concat(a," heading"),style:{style:o,textTransform:"camelCase"},children:[r,n&&(0,t.jsx)("span",{className:"text-muted h6 fw-bold",style:{style:o,textTransform:"camelCase"},children:"".concat(n)})]})})},o=(0,s.memo)(a)},9037:function(e,r,n){var s=n(2791),t=n(2007),a=n.n(t),o=n(1694),l=n.n(o),c=n(9622),i=["className","cssModule","innerRef","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var n,s,t=function(e,r){if(null==e)return{};var n,s,t={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],r.indexOf(n)>=0||(t[n]=e[n]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var m={className:a().string,cssModule:a().object,innerRef:a().oneOfType([a().object,a().string,a().func]),tag:c.iC};function v(e){var r=e.className,n=e.cssModule,t=e.innerRef,a=e.tag,o=void 0===a?"div":a,m=u(e,i),v=(0,c.mx)(l()(r,"card-body"),n);return s.createElement(o,d({},m,{className:v,ref:t}))}v.propTypes=m,r.Z=v},2232:function(e,r,n){var s=n(2791),t=n(2007),a=n.n(t),o=n(1694),l=n.n(o),c=n(9622),i=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var n,s,t=function(e,r){if(null==e)return{};var n,s,t={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],r.indexOf(n)>=0||(t[n]=e[n]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var m={className:a().string,cssModule:a().object,tag:c.iC};function v(e){var r=e.className,n=e.cssModule,t=e.tag,a=void 0===t?"div":t,o=u(e,i),m=(0,c.mx)(l()(r,"card-footer"),n);return s.createElement(a,d({},o,{className:m}))}v.propTypes=m,r.Z=v},8865:function(e,r,n){var s=n(2791),t=n(2007),a=n.n(t),o=n(1694),l=n.n(o),c=n(9622),i=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var n,s,t=function(e,r){if(null==e)return{};var n,s,t={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],r.indexOf(n)>=0||(t[n]=e[n]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var m={className:a().string,cssModule:a().object,tag:c.iC};function v(e){var r=e.className,n=e.cssModule,t=e.tag,a=void 0===t?"div":t,o=u(e,i),m=(0,c.mx)(l()(r,"card-header"),n);return s.createElement(a,d({},o,{className:m}))}v.propTypes=m,r.Z=v}}]);
//# sourceMappingURL=523.4079c6cf.chunk.js.map