"use strict";(self.webpackChunkfitnee_web=self.webpackChunkfitnee_web||[]).push([[523],{523:function(e,r,s){s.r(r),s.d(r,{default:function(){return j}});var n=s(3433),t=s(9439),a=s(6285),l=s(7689),o=s(2791),i=s(9711),c=s(2685),d=s(7823),u=s(3009),m=s(9773),v=s(3464),f=s(8865),x=s(9037),p=s(2232),b=s(263),h=s(4294),g=s(184),j=function(e){var r=(0,l.s0)(),s=(0,o.useState)([]),j=(0,t.Z)(s,2),y=j[0],N=j[1],Z=(0,o.useState)(!1),O=(0,t.Z)(Z,2),w=O[0],M=O[1],T=(0,o.useState)([]),k=(0,t.Z)(T,2),P=k[0],E=k[1],I=(0,o.useState)([]),C=(0,t.Z)(I,2),U=C[0],S=C[1],D=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=(0,c.iH)(a.db,"GroupMessages",(0,c.g2)("messageTime")),r=(0,c.jM)(e,(function(e){var r=e.val();e.exists()&&Object.values(r).map((function(e,r){return S([].concat((0,n.Z)(U),[e]))}))}));return function(){return r()}}),[]),(0,o.useEffect)((function(){D.current&&D.current.scrollIntoView()}),[U]),(0,o.useEffect)((function(){var e=(0,c.iH)(a.db,"Groups");return(0,c.jM)(e,(function(e){var r=e.val();if(e.exists()){var s=Object.keys(r)[0];E(r[s].usersIds)}}))}),[]),(0,o.useEffect)((function(){var e=(0,c.iH)(a.db,"Users");return(0,c.jM)(e,(function(e){var r=e.val();if(e.exists()){var s=Object.values(r).map((function(e){return e}));N(s)}}))}),[]);var R=function(e){return y.find((function(r){return r.userId===e}))};return(0,g.jsx)(o.Fragment,{children:(0,g.jsx)(d.Z,{className:"adminDashBoardScrolling",fluid:!0,children:(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(m.Z,{md:12,className:"text-center",children:(0,g.jsx)(i.Z,{headingText:"Community",categoryText:"",className:"text-start"})}),(0,g.jsxs)(m.Z,{md:3,className:" mb-3",children:[(0,g.jsx)("h5",{className:"mb-0 fw-bold text-start d-md-block d-none text-black-custom",children:"Members"}),(0,g.jsx)("h6",{className:"mb-0 fw-bold text-start d-md-none d-block text-black-custom",children:"Members"}),(0,g.jsxs)(v.Z,{className:"onlyBorderRadius p-0",children:[(0,g.jsx)(f.Z,{className:"bg-transparent border-0"}),(0,g.jsx)(x.Z,{className:"chatCardFooterHeight py-0",children:P.map((function(e,s){var n=R(e);return(0,g.jsxs)(m.Z,{md:12,onMouseOver:function(){return M(s)},onMouseOut:function(){return M(!1)},className:"d-flex mb-1 cursorPointer align-items-center py-1 bgCommunity rounded-4 ps-1",onClick:function(){"Trainee"===(null===n||void 0===n?void 0:n.role)?r("/admin/traineeProviderProfile/".concat(null===n||void 0===n?void 0:n.serverUserId)):r("/admin/serviceProviderProfile/".concat(null===n||void 0===n?void 0:n.uuid))},children:[(0,g.jsx)("div",{className:"bgProperties rounded-circle ".concat(w===s?"cardHovered":""),style:{border:"3px solid White",backgroundImage:"null"===(null===n||void 0===n?void 0:n.avatar)||void 0===(null===n||void 0===n?void 0:n.avatar)?"url(".concat(b.Z.USER_DUMMY_IMG,")"):"url(".concat(null===n||void 0===n?void 0:n.avatar,")"),width:"45px",height:"45px"}}),(0,g.jsxs)("div",{className:"text-start",children:[(0,g.jsx)("p",{className:"ms-3 mb-0 small fw-bold",children:null===n||void 0===n?void 0:n.name}),(0,g.jsx)("p",{className:"ms-3 mb-0 small fw-bold",children:null===n||void 0===n?void 0:n.role})]})]},s)}))}),(0,g.jsx)(p.Z,{className:"border-0 bg-transparent"})]})]}),(0,g.jsxs)(m.Z,{md:8,className:"position-relative me-3",children:[(0,g.jsx)("h5",{className:"mb-0 fw-bold text-start  d-md-block d-none text-black-custom",children:"Chat"}),(0,g.jsx)("h6",{className:"mb-0 fw-bold text-start d-md-none d-block text-black-custom",children:"Chat"}),(0,g.jsxs)(v.Z,{className:"px-2 onlyBorderRadius",children:[(0,g.jsx)(f.Z,{className:"border-0 bg-transparent"}),(0,g.jsx)(x.Z,{className:"py-0 chatCardFooterHeight",children:U.map((function(e,r){return Object.values(e).map((function(e,r){var s=R(e.messageFrom);return(0,g.jsxs)(m.Z,{md:12,className:"text-start",children:[(0,g.jsx)(h.Z,{member:s,message:e}),(0,g.jsx)("div",{className:"",ref:D})]},r)}))}))}),(0,g.jsx)(p.Z,{className:"border-0 bg-transparent"})]})]})]})})})}},4294:function(e,r,s){s.d(r,{Z:function(){return p}});var n=s(1413),t=s(438),a=s.n(t),l=s(2791),o=s(3464),i=s(8554),c=s(6285),d=s(2685),u=s(203),m=s(7689),v=s(263),f=s(184),x=function(e){var r=e.message,s=e.member,t=e.recipient,l=void 0===t?null:t,x=(0,m.s0)();return(0,f.jsxs)("div",{className:"d-flex gap-2 py-2",children:[s&&(0,f.jsx)("div",{className:"bgProperties rounded-circle me-2 cursorPointer",onClick:function(){"Trainee"===(null===s||void 0===s?void 0:s.role)?x("/admin/traineeProviderProfile/".concat(null===s||void 0===s?void 0:s.serverUserId)):x("/admin/serviceProviderProfile/".concat(null===s||void 0===s?void 0:s.uuid))},style:{backgroundImage:"null"===(null===s||void 0===s?void 0:s.avatar)||void 0===(null===s||void 0===s?void 0:s.avatar)?"url(".concat(v.Z.USER_DUMMY_IMG,")"):"url(".concat(null===s||void 0===s?void 0:s.avatar,")"),width:"35px",height:"35px"}}),(0,f.jsxs)(o.Z,{className:"d-flex flex-column border ".concat(r.isDeleted?"messageWrapperDanger":"messageWrapper"," p-2 ").concat(parseInt(null===r||void 0===r?void 0:r.messageFrom)===(null===l||void 0===l?void 0:l.id)?"messageWrapper":"bgYellow"),children:[s&&(0,f.jsx)("small",{className:"fw-bold ",children:null===s||void 0===s?void 0:s.name}),("TEXT"===r.messageType||"EXERCISE"===r.messageType)&&(0,f.jsx)("small",{className:"px-2",children:r.messageText}),"IMAGE"===r.messageType&&(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:"bgProperties",style:{backgroundImage:null===(null===r||void 0===r?void 0:r.mediaUrl)?"url(".concat(v.Z.USER_DUMMY_IMG,")"):"url(".concat(null===r||void 0===r?void 0:r.mediaUrl,")"),width:"80px",height:"100px"}})}),"VIDEO"===r.messageType&&(0,f.jsx)("div",{className:"",children:(0,f.jsx)("video",{muted:!0,controls:!0,width:"200px",height:"150px",src:null===r||void 0===r?void 0:r.mediaUrl})}),"Document"===r.messageType&&(0,f.jsx)("embed",{width:"200px",height:"200px",src:null===r||void 0===r?void 0:r.mediaUrl}),"Audio"===r.messageType&&(0,f.jsx)("audio",{controls:!0,children:(0,f.jsx)("source",{src:null===r||void 0===r?void 0:r.mediaUrl})}),(0,f.jsxs)("div",{className:"d-flex justify-content-end pe-2",children:[" ",(0,f.jsx)("small",{children:a()(r.messageTime).format("h:mm A")})]})]}),s&&!(null!==r&&void 0!==r&&r.isDeleted)&&(0,f.jsx)(u.fVU,{color:"#c56263",className:"cursorPointer",onClick:function(){var e=(0,d.iH)(c.db,"GroupMessages/".concat(r.messageTo,"/").concat(r.messageId));(0,d.t8)(e,(0,n.Z)((0,n.Z)({},r),{},{isDeleted:!0})).then((function(){return i.Z.error("Message deleted")})).catch((function(e){return console.error("Error updating isDeleted:",e)}))}})]})},p=(0,l.memo)(x)},9711:function(e,r,s){s.d(r,{Z:function(){return l}});var n=s(2791),t=s(184),a=function(e){var r=e.headingText,s=e.categoryText,a=e.className,l=e.style;return(0,t.jsx)(n.Fragment,{children:(0,t.jsxs)("h2",{className:"fw-bold text-black-custom p-3 mb-0 ".concat(a," heading"),style:{style:l,textTransform:"camelCase"},children:[r,s&&(0,t.jsx)("span",{className:"text-muted h6 fw-bold",style:{style:l,textTransform:"camelCase"},children:"".concat(s)})]})})},l=(0,n.memo)(a)},9037:function(e,r,s){var n=s(2791),t=s(2007),a=s.n(t),l=s(1694),o=s.n(l),i=s(9622),c=["className","cssModule","innerRef","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var s,n,t=function(e,r){if(null==e)return{};var s,n,t={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],r.indexOf(s)>=0||(t[s]=e[s]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],r.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}var m={className:a().string,cssModule:a().object,innerRef:a().oneOfType([a().object,a().string,a().func]),tag:i.iC};function v(e){var r=e.className,s=e.cssModule,t=e.innerRef,a=e.tag,l=void 0===a?"div":a,m=u(e,c),v=(0,i.mx)(o()(r,"card-body"),s);return n.createElement(l,d({},m,{className:v,ref:t}))}v.propTypes=m,r.Z=v},8865:function(e,r,s){var n=s(2791),t=s(2007),a=s.n(t),l=s(1694),o=s.n(l),i=s(9622),c=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},d.apply(this,arguments)}function u(e,r){if(null==e)return{};var s,n,t=function(e,r){if(null==e)return{};var s,n,t={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],r.indexOf(s)>=0||(t[s]=e[s]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],r.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}var m={className:a().string,cssModule:a().object,tag:i.iC};function v(e){var r=e.className,s=e.cssModule,t=e.tag,a=void 0===t?"div":t,l=u(e,c),m=(0,i.mx)(o()(r,"card-header"),s);return n.createElement(a,d({},l,{className:m}))}v.propTypes=m,r.Z=v}}]);
//# sourceMappingURL=523.c3c9b5b5.chunk.js.map