"use strict";(self.webpackChunkfitnee_web=self.webpackChunkfitnee_web||[]).push([[6101],{1536:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(2791),s=n(7823),r=n(3009),c=n(9773),l=n(3464),i=n(1413),o=n(9439),d=n(5705),u=n(8554),m=n(1339),f=n(9630),h=n(1045),p=n(7201),x=n(9230),y=n(7689),b=n(9711),j=n(9434),v=n(9399),g=n(8865),w=n(9037),N=n(2232),Z=n(1793),O=n(263),C=n(3585),_=n(4665),P=n(172),T=n(6683),A=n(184),S=function(){var e=(0,j.I0)(),t=(0,y.s0)(),n=(0,x.$G)(""),S=n.t,E=n.i18n,k=(0,j.v9)((function(e){return e.user})).user,D=(0,j.v9)((function(e){return e.subscription})),R=D.loading,M=D.subscriptionPlan,I=D.checkoutId,F=D.entity,Y=(0,a.useState)({discount:0,grandTotal:0,walletAmount:0,vat:p.Z.calculateVat(M.price)}),L=(0,o.Z)(Y,2),U=L[0],B=L[1],V=(0,a.useState)(0),W=(0,o.Z)(V,2),z=W[0],H=W[1];(0,a.useEffect)((function(){var e=document.createElement("script");return e.innerHTML='\n      var wpwlOptions = {\n        locale: "'.concat(localStorage.getItem("Website_Language__fitnee").toString(),'"\n      };\n    '),document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,a.useEffect)((function(){if(I){var e="https://eu-prod.oppwa.com/v1/paymentWidgets.js?checkoutId=".concat(I),t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}}),[I]),(0,a.useEffect)((function(){var t={apiEndpoint:C.WALLET_AMOUNT_URL};e((0,T.k$)(t)).then((function(e){"getWalletAmount/fulfilled"===e.type&&H(e.payload.data.balance)}))}),[]);var K=(0,a.useCallback)((function(t){var n={apiEndpoint:"".concat(C.USE_PROMO_CODE_URL,"?code=").concat(t)};e((0,T.gs)(n)).then((function(e){if("applyPromoCode/fulfilled"===e.type)if("flat"===e.payload.data.type){p.Z.getSummary(e.payload.data.value,U.walletAmount,M.price,U.vat)>0?B((0,i.Z)((0,i.Z)({},U),{},{discount:e.payload.data.value})):u.Z.error(S("messages.cannotUserPromoCode"))}else{var t=p.Z.getSummary(0,U.walletAmount,M.price,U.vat),n=p.Z.calculatePercentage(t,e.payload.data.value);p.Z.getSummary(n,U.walletAmount,M.price,U.vat)>0?B((0,i.Z)((0,i.Z)({},U),{},{discount:p.Z.calculatePercentage(t,e.payload.data.value)})):u.Z.error(S("messages.cannotUserPromoCode"))}}))}),[e,M,U]),$=(0,a.useCallback)((function(n){var a={apiEndpoint:C.PREPARE_CHECKOUT_URL,requestData:JSON.stringify((0,i.Z)((0,i.Z)({},n),{},{amount:p.Z.getSummary(U.discount,U.walletAmount,M.price,U.vat),subscription_amount:M.price,vat:U.vat,email:null===k||void 0===k?void 0:k.email,discounted_amount:null===U||void 0===U?void 0:U.discount,subscription_id:M.id,wallet_amount:q()})),entity:n.entity};e((0,T.SB)(a)).then((function(e){"getCheckoutId/fulfilled"===e.type&&e.payload.is_hyper_pay&&t("/trainee/appDownloadLink/true")}))}),[e,M,U,k]),q=function(){return parseFloat(z)>=(parseFloat(M.price)+parseFloat(U.vat)-parseFloat(U.discount)).toFixed(2)?(parseFloat(M.price)+parseFloat(U.vat)-parseFloat(U.discount)).toFixed(2):z};return(0,A.jsxs)(s.Z,{fluid:!0,className:"h-100 ".concat(E.dir()),children:["pending"===R&&(0,A.jsx)(Z.Z,{}),(0,A.jsxs)(r.Z,{className:"h-100 CardDetails",children:[(0,A.jsx)(c.Z,{md:12,children:(0,A.jsx)(b.Z,{headingText:S("cardDetails.PaymentMethodText"),className:"mb-0",categoryText:""})}),(0,A.jsxs)(c.Z,{md:6,children:[I&&(0,A.jsx)("div",{className:"text-center mt-4",children:I&&(0,A.jsx)("form",{action:"https://staging.fitnee.fit/trainee/appDownloadLink/false",className:"paymentWidgets","data-brands":"VISA"===F||"STC_PAY"===F?"MASTER VISA STC_PAY":"MADA"===F?"MADA":"APPLE_PAY"===F?"APPLEPAY":""})}),!I&&(0,A.jsx)(d.Formik,{initialValues:(0,i.Z)((0,i.Z)({},P.Mw),{},{surname:"".concat(null===k||void 0===k?void 0:k.first_name," ").concat(null===k||void 0===k?void 0:k.last_name),givenName:"".concat(null===k||void 0===k?void 0:k.first_name," ").concat(null===k||void 0===k?void 0:k.last_name)}),validationSchema:_.hh,onSubmit:function(e,t){(0,t.setSubmitting)(!0),$(e)},children:function(e){var t=e.values,n=e.errors,a=e.touched,l=e.handleBlur,o=e.handleChange,d=e.handleSubmit,u=e.setFieldValue;return(0,A.jsx)(v.Z,{onSubmit:d,children:(0,A.jsxs)(s.Z,{children:[(0,A.jsxs)(r.Z,{className:"paymentMethodBtn pb-4",children:[(0,A.jsx)(c.Z,{md:4,className:"mb-1",children:(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between form-control-lg py-2 customDropdownRadius border bg-white cursorPointer ".concat("VISA"===t.entity?"selected":""),onClick:function(){return u("entity","VISA")},children:[(0,A.jsx)("h6",{className:"mb-0 font14",children:S("cardDetails.visaMasterText")}),(0,A.jsx)("img",{src:O.Z.VISA_ICON,alt:"visa-icon"})]})}),(0,A.jsx)(c.Z,{md:4,className:"mb-1",children:(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between form-control-lg py-2 customDropdownRadius border w-100 bg-white cursorPointer ".concat("MADA"===t.entity?"selected":""),onClick:function(){return u("entity","MADA")},children:[(0,A.jsx)("h6",{className:"mb-0 font14",children:S("cardDetails.madaText")}),(0,A.jsx)("img",{src:O.Z.MADA_ICON,alt:"mada-icon"})]})}),(0,A.jsx)(c.Z,{md:4,className:"mb-1",children:(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between form-control-lg py-2 customDropdownRadius border w-100 bg-white cursorPointer ".concat("APPLE_PAY"===t.entity?"selected":""),onClick:function(){return u("entity","APPLE_PAY")},children:[(0,A.jsx)("h6",{className:"mb-0 font14",children:S("cardDetails.applePayText")}),(0,A.jsx)("img",{src:O.Z.APPLE_PAY_ICON,alt:"mada-icon"})]})}),(0,A.jsx)(c.Z,{md:4,className:"mb-1",children:(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between form-control-lg py-2 customDropdownRadius border w-100 bg-white cursorPointer ".concat("STC_PAY"===t.entity?"selected":""),onClick:function(){return u("entity","STC_PAY")},children:[(0,A.jsx)("h6",{className:"mb-0 font14",children:S("cardDetails.stcPayText")}),(0,A.jsx)("img",{src:O.Z.STC_PAY_ICON,alt:"mada-icon"})]})}),(0,A.jsx)("p",{className:"errorField",children:S(n.entity)&&a.entity&&S(n.entity)})]}),(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(c.Z,{md:12,children:(0,A.jsxs)("div",{className:"CreditCard d-flex justify-content-between align-items-center",children:[(0,A.jsx)("div",{className:" me-2",children:(0,A.jsx)("p",{className:"mb-0 fw-bold",children:S("cardDetails.useFitNeeWalletText")})}),(0,A.jsx)("div",{className:"d-flex align-items-center",children:(0,A.jsx)(h.Z,{id:"use_wallet",isOn:t.use_wallet,handleToggle:function(){if("0.00"!==z&&0===U.discount)if(u("use_wallet",!t.use_wallet),!0===!t.use_wallet){var e=p.Z.getSummary(U.discount,z,M.price,U.vat);B((0,i.Z)((0,i.Z)({},U),{},{grandTotal:e,walletAmount:z}))}else{var n=p.Z.getSummary(U.discount,0,M.price,U.vat);B((0,i.Z)((0,i.Z)({},U),{},{grandTotal:n,walletAmount:0}))}}})})]})}),(0,A.jsx)(c.Z,{md:12,children:(0,A.jsxs)(r.Z,{className:"d-flex my-4 align-items-center",children:[(0,A.jsx)(c.Z,{md:4,children:(0,A.jsx)("p",{className:"mb-0 fw-bold",children:S("cardDetails.promoCodeText")})}),(0,A.jsxs)(c.Z,{md:8,className:"d-flex gap-2 justify-content-end",children:[(0,A.jsx)(m.Z,{type:"text",name:"promo_code",placeholder:"Free20",onChangeHandle:o,onBlurHandle:l,value:t.promo_code,className:"form-control-lg BorderRadiusInput py-3 px-3 fs-6"}),(0,A.jsx)(f.Z,{text:S("cardDetails.applyText"),className:"px-4 py-3 customDropdownRadius",handleOnClick:function(){""!==t.promo_code&&K(t.promo_code)},disabled:t.use_wallet})]})]})}),(0,A.jsx)("div",{className:"w-100 bg-transparent border-0 customDropdownRadius",children:(0,A.jsx)(f.Z,{type:"submit",text:S("cardDetails.payText"),className:"w-100 py-3 mb-4"})})]})]})})}})]}),(0,A.jsx)(c.Z,{md:6,children:(0,A.jsxs)(l.Z,{className:"BorderRadius my-2",children:[(0,A.jsx)(g.Z,{className:"bg-transparent py-4 fw-bold",children:(0,A.jsx)("h6",{className:"mb-0 fw-bold",children:S("cardDetails.paymentSummaryText")})}),(0,A.jsxs)(w.Z,{children:[(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,A.jsx)("div",{className:"",children:(0,A.jsx)("h6",{children:S("cardDetails.priceText")})}),(0,A.jsx)("div",{style:{width:"25%"},children:(0,A.jsxs)("h6",{children:[C.CURRENCY," ",M.price]})})]}),(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,A.jsx)("div",{className:"",children:(0,A.jsx)("h6",{children:S("cardDetails.vatText")})}),(0,A.jsx)("div",{style:{width:"25%"},children:(0,A.jsxs)("h6",{children:[C.CURRENCY," ",U.vat]})})]}),(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,A.jsx)("div",{className:"",children:(0,A.jsx)("h6",{children:S("cardDetails.discountText")})}),(0,A.jsx)("div",{style:{width:"25%"},children:(0,A.jsxs)("h6",{children:[C.CURRENCY," ",U.discount]})})]}),(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,A.jsx)("div",{className:"",children:(0,A.jsx)("h6",{children:S("cardDetails.fitneeWalletText")})}),(0,A.jsx)("div",{style:{width:"25%"},children:(0,A.jsxs)("h6",{children:[C.CURRENCY," ",q()]})})]})]}),(0,A.jsx)(N.Z,{className:"bg-transparent",children:(0,A.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,A.jsx)("div",{children:(0,A.jsx)("h6",{className:"mb-0 py-3 fw-bold",children:S("cardDetails.totalPayText")})}),(0,A.jsx)("div",{style:{width:"25%"},children:(0,A.jsxs)("h6",{className:"mb-0",children:[C.CURRENCY," ",p.Z.getSummary(U.discount,U.walletAmount,M.price,U.vat)]})})]})})]})})]})]})},E=(0,a.memo)(S),k=function(){return(0,A.jsx)(s.Z,{fluid:!0,children:(0,A.jsx)(r.Z,{children:(0,A.jsx)(c.Z,{md:12,children:(0,A.jsx)(l.Z,{className:"BorderRadius contentCard",children:(0,A.jsx)(E,{})})})})})}},9711:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(2791),s=n(184),r=function(e){var t=e.headingText,n=e.categoryText,r=e.className,c=e.style;return(0,s.jsx)(a.Fragment,{children:(0,s.jsxs)("h2",{className:"fw-bold text-black-custom p-3 mb-0 ".concat(r," heading"),style:{style:c,textTransform:"camelCase"},children:[t,n&&(0,s.jsx)("span",{className:"text-muted h6 fw-bold",style:{style:c,textTransform:"camelCase"},children:"".concat(n)})]})})},c=(0,a.memo)(r)},1045:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(2791),s="style_switchCheckbox__YT16u",r="style_switchLabel__MhZvW",c="style_switchButton__mKjdM",l=n(8118),i=n(2976),o=n(184),d=function(e){var t=e.id,n=e.isOn,a=e.handleToggle,d=e.colorOne,u=e.colorTwo;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{id:t,checked:n,type:"checkbox",onChange:a,className:"".concat(s)}),(0,o.jsx)(i.Z,{style:{background:n?d:u},className:"".concat(r," mb-0"),htmlFor:t,children:(0,o.jsx)("span",{className:"".concat(c)})})]})},u=(0,a.memo)(d)},9037:function(e,t,n){var a=n(2791),s=n(2007),r=n.n(s),c=n(1694),l=n.n(c),i=n(9622),o=["className","cssModule","innerRef","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var m={className:r().string,cssModule:r().object,innerRef:r().oneOfType([r().object,r().string,r().func]),tag:i.iC};function f(e){var t=e.className,n=e.cssModule,s=e.innerRef,r=e.tag,c=void 0===r?"div":r,m=u(e,o),f=(0,i.mx)(l()(t,"card-body"),n);return a.createElement(c,d({},m,{className:f,ref:s}))}f.propTypes=m,t.Z=f},2232:function(e,t,n){var a=n(2791),s=n(2007),r=n.n(s),c=n(1694),l=n.n(c),i=n(9622),o=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var m={className:r().string,cssModule:r().object,tag:i.iC};function f(e){var t=e.className,n=e.cssModule,s=e.tag,r=void 0===s?"div":s,c=u(e,o),m=(0,i.mx)(l()(t,"card-footer"),n);return a.createElement(r,d({},c,{className:m}))}f.propTypes=m,t.Z=f},8865:function(e,t,n){var a=n(2791),s=n(2007),r=n.n(s),c=n(1694),l=n.n(c),i=n(9622),o=["className","cssModule","tag"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var m={className:r().string,cssModule:r().object,tag:i.iC};function f(e){var t=e.className,n=e.cssModule,s=e.tag,r=void 0===s?"div":s,c=u(e,o),m=(0,i.mx)(l()(t,"card-header"),n);return a.createElement(r,d({},c,{className:m}))}f.propTypes=m,t.Z=f},2976:function(e,t,n){var a=n(2791),s=n(2007),r=n.n(s),c=n(1694),l=n.n(c),i=n(9622),o=["className","cssModule","hidden","widths","tag","check","size","for"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var f=["xs","sm","md","lg","xl","xxl"],h=r().oneOfType([r().number,r().string]),p=r().oneOfType([r().bool,r().string,r().number,r().shape({size:h,order:h,offset:h})]),x={children:r().node,hidden:r().bool,check:r().bool,size:r().string,for:r().string,tag:i.iC,className:r().string,cssModule:r().object,xs:p,sm:p,md:p,lg:p,xl:p,xxl:p,widths:r().array},y=function(e,t,n){return!0===n||""===n?e?"col":"col-".concat(t):"auto"===n?e?"col-auto":"col-".concat(t,"-auto"):e?"col-".concat(n):"col-".concat(t,"-").concat(n)};function b(e){var t=e.className,n=e.cssModule,s=e.hidden,r=e.widths,c=void 0===r?f:r,h=e.tag,p=void 0===h?"label":h,x=e.check,b=e.size,j=e.for,v=m(e,o),g=[];c.forEach((function(t,a){var s=e[t];if(delete v[t],s||""===s){var r,c=!a;if((0,i.Kn)(s)){var o,d=c?"-":"-".concat(t,"-");r=y(c,t,s.size),g.push((0,i.mx)(l()((u(o={},r,s.size||""===s.size),u(o,"order".concat(d).concat(s.order),s.order||0===s.order),u(o,"offset".concat(d).concat(s.offset),s.offset||0===s.offset),o))),n)}else r=y(c,t,s),g.push(r)}}));var w=b||g.length,N=!(x||w),Z=(0,i.mx)(l()(t,!!s&&"visually-hidden",!!x&&"form-check-label",!!b&&"col-form-label-".concat(b),g,!!w&&"col-form-label",!!N&&"form-label"),n);return a.createElement(p,d({htmlFor:j},v,{className:Z}))}b.propTypes=x,t.Z=b}}]);
//# sourceMappingURL=6101.500fa035.chunk.js.map