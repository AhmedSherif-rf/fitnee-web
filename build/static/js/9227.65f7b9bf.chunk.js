"use strict";(self.webpackChunkfitnee_web=self.webpackChunkfitnee_web||[]).push([[9227],{8956:function(e,a,n){n.r(a);var t=n(9439),l=n(438),s=n.n(l),c=n(1087),i=n(6053),r=n(5737),o=n.n(r),d=n(203),u=n(9434),m=n(4238),x=n(2791),p=n(9711),v=n(1793),f=n(263),h=n(3434),g=n(5757),j=n(3585),N=n(5223),y=n(1296),b=n(260),_=n(4275),Z=n(3009),C=n(9773),P=n(3464),E=n(8865),T=n(9037),k=n(2232),D=n(184);a.default=function(e){var a=s()(),n=(0,u.I0)(),l=(0,x.useState)(1),r=(0,t.Z)(l,2),w=r[0],A=r[1],R=(0,x.useState)(0),S=(0,t.Z)(R,2),U=S[0],K=S[1],Y=(0,x.useState)([]),M=(0,t.Z)(Y,2),I=M[0],G=M[1],L=(0,x.useState)(null),F=(0,t.Z)(L,2),O=F[0],z=F[1],W=(0,x.useState)(""),q=(0,t.Z)(W,2),B=q[0],H=q[1],J=(0,u.v9)((function(e){return e.wallet})).loading,$=(0,x.useCallback)((function(e){A(e.selected+1)}),[]);(0,x.useEffect)((function(){Q()}),[n,w,B]);var Q=function(){var e={apiEndpoint:"".concat(j.PENDING_PAYMENTS,"?page=").concat(w,"&stc_pay=").concat(B)};n((0,h.z)(e)).then((function(e){"getWalletData/fulfilled"===e.type&&(K(e.payload.data.count),z(e.payload.data.results))}))};(0,x.useEffect)((function(){if(O&&O.length>0){var e=[];null===O||void 0===O||O.forEach((function(t){null===t||void 0===t||t.transactions.forEach((function(l){var r,o,u,m,x;e.push({full_name:(0,D.jsx)(c.rU,{to:"/admin/serviceProviderProfile/".concat(null===t||void 0===t||null===(r=t.service_provider)||void 0===r?void 0:r.uuid),children:(0,D.jsxs)("div",{className:"d-flex align-items-center",children:[(0,D.jsx)("div",{className:"bgProperties rounded-circle me-2",style:{width:"40px",height:"40px",backgroundImage:null===(null===t||void 0===t||null===(o=t.service_provider)||void 0===o?void 0:o.profile_pic)?"url(".concat(f.Z.USER_DUMMY_IMG,")"):"url(".concat(null===t||void 0===t||null===(u=t.service_provider)||void 0===u?void 0:u.profile_pic,")")}}),(0,D.jsx)("h6",{className:"text-secondary fw-bold mb-0",children:null===t||void 0===t||null===(m=t.service_provider)||void 0===m?void 0:m.full_name})]})}),stc_pay:null===t||void 0===t||null===(x=t.service_provider)||void 0===x?void 0:x.stc_pay,amount:"".concat(j.CURRENCY," ").concat(null===l||void 0===l?void 0:l.amount),status:(0,D.jsxs)("div",{className:"d-flex align-items-center justify-content-md-center",children:[(0,D.jsx)("div",{className:"me-2 ".concat(null!==l&&void 0!==l&&l.is_paid?"bg-success":"bg-danger"," rounded-circle"),style:{minWidth:"8px",minHeight:"8px"}}),(0,D.jsx)("span",{children:null!==l&&void 0!==l&&l.is_paid?"Paid":"Pending"})]}),total_amount:"".concat(j.CURRENCY," ").concat(null===l||void 0===l?void 0:l.total_amount),discount:null===(null===t||void 0===t?void 0:t.discounted_price)?"N/A":"".concat(j.CURRENCY," ").concat(null===t||void 0===t?void 0:t.discounted_price),release_date:(0,D.jsx)("p",{className:a.isSame(s()(null===l||void 0===l?void 0:l.payment_date),"day")?"text-success fw-bold":a.isAfter(s()(null===l||void 0===l?void 0:l.payment_date),"day")?"text-danger fw-bold":"text-dark",children:s()(null===l||void 0===l?void 0:l.payment_date).format("DD/MM/YYYY")}),action:(0,D.jsxs)(N.Z,{className:"UncontrolledDropdown",children:[(0,D.jsx)(y.Z,{className:"p-0 d-flex align-items-center justify-content-center",nav:!0,children:(0,D.jsx)("div",{className:" rounded-circle text-black-custom",children:(0,D.jsx)(d.Blh,{size:18,className:"fs-3"})})}),(0,D.jsx)(b.Z,{className:"DropdownMenu",style:{right:0,left:"auto"},children:(0,D.jsx)(_.Z,{className:"p-1 DropdownItem",children:(0,D.jsxs)("div",{className:"d-flex align-items-center px-2",onClick:function(){return function(e){var a={apiEndpoint:j.ADMIN_RELEASE_PAYMENT_URL,requestData:JSON.stringify({id:e})};n((0,h.N)(a)).then((function(e){"releasePayment/fulfilled"===e.type&&Q()}))}(null===l||void 0===l?void 0:l.id)},children:[(0,D.jsx)(i._D6,{className:"me-2"}),(0,D.jsx)("span",{className:"fs-6",children:"Click to pay"})]})})})]})})}))})),G(e)}else G([])}),[O]);return(0,D.jsx)(Z.Z,{className:"h-100",children:(0,D.jsx)(C.Z,{md:12,children:(0,D.jsxs)(P.Z,{className:"border-0 h-100 text-start",children:[(0,D.jsx)(E.Z,{className:"bg-transparent border-0 p-0",children:(0,D.jsxs)(Z.Z,{className:"align-items-center",children:[(0,D.jsx)(C.Z,{md:6,children:(0,D.jsx)(p.Z,{headingText:"Wallet Overview",categoryText:""})}),(0,D.jsx)(C.Z,{md:6,className:"pe-3",children:(0,D.jsx)(o(),{inputProps:{name:"stc_pay",required:!0,className:"form-control-lg w-100 py-3 px-4 customPhoneInput border-0"},country:"sa",value:B,className:"border ltr",onChange:function(e){H(e)}})})]})}),(0,D.jsxs)(T.Z,{className:"tableBodyWrapperPagination",children:["pending"===J&&(0,D.jsx)(v.Z,{}),(0,D.jsx)(Z.Z,{children:(0,D.jsx)(C.Z,{md:12,className:"mb-2",children:(0,D.jsx)(g.Z,{data:I,columns:[{label:"FullName",dataKey:"full_name"},{label:"STC Phone No",dataKey:"stc_pay",align:"center"},{label:"Amount",dataKey:"amount"},{label:"Status",dataKey:"status",align:"center"},{label:"Total Subscription Amount",dataKey:"total_amount",align:"center"},{label:"Discount",dataKey:"discount",align:"center"},{label:"Release Date",dataKey:"release_date",align:"center"},{label:"Action",dataKey:"action",align:"center"}]})})})]}),(0,D.jsx)(k.Z,{className:"bg-transparent text-end pb-0 pt-2",children:U>j.PER_PAGE_COUNT&&(0,D.jsx)(m.Z,{size:U,handlePageChange:$,page:w})})]})})})}},5757:function(e,a,n){n.d(a,{Z:function(){return o}});var t=n(2791),l="style_stripedTable__3eED+",s=n(9230),c=(n(6338),n(8512)),i=n(184),r=function(e){var a=e.data,n=e.columns,t=(0,s.$G)("").t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.iA,{className:"".concat(l),children:[(0,i.jsx)(c.hr,{children:(0,i.jsx)(c.Tr,{children:n.map((function(e,a){return(0,i.jsx)(c.Th,{className:e.align?"text-".concat(e.align," small"):"small",children:e.label},a)}))})}),(0,i.jsx)(c.p3,{children:a.map((function(e,a){return(0,i.jsx)(c.Tr,{children:n.map((function(a,n){return(0,i.jsx)(c.Td,{className:a.align?"text-".concat(a.align):"",children:a.dataKey?e[a.dataKey]:null},n)}))},a)}))})]}),a.length<=0&&(0,i.jsx)("div",{className:"d-flex justify-content-center py-4 text-black-custom",children:t("messages.noDataFoundText")})]})},o=(0,t.memo)(r)},9711:function(e,a,n){n.d(a,{Z:function(){return c}});var t=n(2791),l=n(184),s=function(e){var a=e.headingText,n=e.categoryText,s=e.className,c=e.style;return(0,l.jsx)(t.Fragment,{children:(0,l.jsxs)("h2",{className:"fw-bold text-black-custom p-3 mb-0 ".concat(s," heading"),style:{style:c,textTransform:"camelCase"},children:[a,n&&(0,l.jsx)("span",{className:"text-muted h6 fw-bold",style:{style:c,textTransform:"camelCase"},children:"".concat(n)})]})})},c=(0,t.memo)(s)},4238:function(e,a,n){n.d(a,{Z:function(){return d}});var t=n(2791),l=n(6048),s=n.n(l),c=n(6355),i=n(3585),r=n(184),o=function(e){var a=e.size,n=e.handlePageChange,t=e.page;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s(),{breakLabel:"...",nextLabel:(0,r.jsx)(c.Dli,{className:"text-black-custom fs-4"}),onPageChange:n,pageRangeDisplayed:i.PAGE_RANGE,pageCount:a/i.PER_PAGE_COUNT,previousLabel:(0,r.jsx)(c.bUI,{className:"text-black-custom fs-4"}),renderOnZeroPageCount:null,containerClassName:"pagination",activeLinkClassName:"activePageLink",forcePage:t-1})})},d=(0,t.memo)(o)}}]);
//# sourceMappingURL=9227.65f7b9bf.chunk.js.map